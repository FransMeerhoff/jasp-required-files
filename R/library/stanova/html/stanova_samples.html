<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Posterior samples for ANOVA-type models</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for stanova_samples {stanova}"><tr><td>stanova_samples {stanova}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Posterior samples for ANOVA-type models</h2>

<h3>Description</h3>

<p>Posterior samples for ANOVA-type models
</p>


<h3>Usage</h3>

<pre>
stanova_samples(object, ...)

## S3 method for class 'stanova'
stanova_samples(
  object,
  diff_intercept = TRUE,
  terms,
  return = c("array", "matrix", "data.frame", "tibble", "tidybayes"),
  dimension_chain = 3L,
  ...
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p>Fitted model. Currently only support for <code>stanova</code> objects.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>currently ignored.</p>
</td></tr>
<tr valign="top"><td><code>diff_intercept</code></td>
<td>
<p>logical. If <code>TRUE</code> (the default) samples for factor
levels represent the difference from the intercept. If <code>FALSE</code>, marginal
means of factor levels are returned.</p>
</td></tr>
<tr valign="top"><td><code>terms</code></td>
<td>
<p>optional character vector denoting a subset of model terms for
which difference from intercept be returned.</p>
</td></tr>
<tr valign="top"><td><code>return</code></td>
<td>
<p><code>character</code> string denoting format in which samples should be
returned. Allowed values are
<code>c("array", "matrix", "data.frame", "tibble", "tidybayes")</code>,
possibly abbreviated. <code>"tibble"</code> requires package <code>tibble</code> and returns the
same object as <code>data.frame</code> wrapped into <code>as_tibble()</code>. <code>"tidybayes"</code> also
returns essentially the same object, but renames the columns to follow
<code>tidybayes</code> conventions.</p>
</td></tr>
<tr valign="top"><td><code>dimension_chain</code></td>
<td>
<p>Scalar integer. If <code>return = "array"</code>, determines the
dimension of the chain. The default <code>3</code> means chain is the third dimension
of the returned array. Value should be between 1 and 3.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre>


fit_warp &lt;- stanova(breaks ~ wool * tension, data = warpbreaks,
                    prior = rstanarm::R2(0.5),
                    model_fun = "lm",
                    chains = 2, iter = 500)

arr_warp &lt;- stanova_samples(fit_warp)
str(arr_warp)

mat_warp &lt;- stanova_samples(fit_warp, return = "matrix")
str(mat_warp)

df_warp &lt;- stanova_samples(fit_warp, return = "data.frame")
str(df_warp)

tail(df_warp$`wool:tension`)

if (requireNamespace("tibble")) {
  tbl_warp &lt;- stanova_samples(fit_warp, return = "tibble")
  tbl_warp
}

if (require("tidybayes") &amp;&amp; require("tidyverse")) {
  tidy_warp &lt;- stanova_samples(fit_warp, return = "tidybayes")
  tidy_warp

  tidy_warp$tension %&gt;%
    group_by(variable) %&gt;%
    median_qi(value) %&gt;%
    ggplot(aes(y = variable, x = value, xmin = .lower, xmax = .upper)) +
    geom_pointinterval()

  tidy_warp$tension %&gt;%
    ggplot(aes(y = variable, x = value)) +
    stat_halfeye()

  bind_rows(tidy_warp) %&gt;%
    ggplot(aes(y = variable, x = value)) +
    stat_halfeye() +
    facet_wrap(vars(term), scales = "free")

   bind_rows(tidy_warp) %&gt;%
    ggplot(aes(y = variable, x = value)) +
    stat_interval() +
    facet_wrap(vars(term), scales = "free")

   ## marginal means instead of differences from mean:
   stanova_samples(fit_warp, return = "tidybayes", diff_intercept = FALSE) %&gt;%
     bind_rows() %&gt;%
     ggplot(aes(y = variable, x = value)) +
     stat_halfeye() +
     facet_wrap(vars(term), scales = "free")
}


</pre>

<hr /><div style="text-align: center;">[Package <em>stanova</em> version 0.3-0 <a href="00Index.html">Index</a>]</div>
</body></html>
