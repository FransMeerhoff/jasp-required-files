<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create a Prior Distribution with Audit Information</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for auditPrior {jfa}"><tr><td>auditPrior {jfa}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Create a Prior Distribution with Audit Information</h2>

<h3>Description</h3>

<p>This function creates a prior distribution for Bayesian audit sampling according to several methods discussed in Derks et al. (2020). The returned object is of class <code>jfaPrior</code> and can be used with associated <code>print()</code> and <code>plot()</code> methods. <code>jfaPrior</code> objects can be used as input for the <code>prior</code> argument in other functions.
</p>


<h3>Usage</h3>

<pre>
auditPrior(materiality = NULL, confidence = 0.95, method = "arm", ir = 1, 
           cr = 1, expectedError = 0, likelihood = "binomial", N = NULL, 
           pHmin = NULL, pHplus = NULL, factor = 1, sampleN = 0, sampleK = 0)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>materiality</code></td>
<td>
<p>a value between 0 and 1 representing the materiality of the audit as a fraction of the total size or value. Can be <code>NULL</code> for some methods.</p>
</td></tr>
<tr valign="top"><td><code>confidence</code></td>
<td>
<p>the confidence level desired from the confidence bound (on a scale from 0 to 1). Defaults to 0.95, or 95% confidence.</p>
</td></tr>
<tr valign="top"><td><code>method</code></td>
<td>
<p>the method by which the prior distribution is constructed. Defaults to the <code>arm</code> method, which uses the audit risk model (Derks et al., 2019). Can be one of <code>none</code>, <code>median</code>, <code>hypotheses</code>, <code>arm</code>, <code>sample</code> or <code>factor</code>. See the Details section for more information.</p>
</td></tr>
<tr valign="top"><td><code>ir</code></td>
<td>
<p>the inherent risk probability from the audit risk model. Defaults to 1 for 100% risk.</p>
</td></tr>
<tr valign="top"><td><code>cr</code></td>
<td>
<p>the inherent risk probability from the audit risk model. Defaults to 1 for 100% risk.</p>
</td></tr>
<tr valign="top"><td><code>expectedError</code></td>
<td>
<p>a fraction representing the percentage of expected mistakes in the sample relative to the total size, or a number (&gt;= 1) that represents the number of expected mistakes.</p>
</td></tr>
<tr valign="top"><td><code>likelihood</code></td>
<td>
<p>can be one of <code>binomial</code>, <code>poisson</code>, or <code>hypergeometric</code>. See the Details section for more information.</p>
</td></tr>
<tr valign="top"><td><code>N</code></td>
<td>
<p>the population size (only required when <code>likelihood = 'hypergeometric'</code>).</p>
</td></tr>
<tr valign="top"><td><code>pHmin</code></td>
<td>
<p>When using <code>method = 'hypotheses'</code>, the prior probability of the hypothesis <i>&theta; &lt;</i> materiality.</p>
</td></tr>
<tr valign="top"><td><code>pHplus</code></td>
<td>
<p>When using <code>method = 'hypotheses'</code>, the prior probability of the hypothesis <i>&theta; &gt;</i> materiality.</p>
</td></tr>
<tr valign="top"><td><code>factor</code></td>
<td>
<p>When using <code>method = 'factor'</code>, the value of the weighting factor for the results of the previous sample.</p>
</td></tr>
<tr valign="top"><td><code>sampleN</code></td>
<td>
<p>When using method <code>sample</code> or <code>factor</code>, the number of transactions that were inspected in the previous sample.</p>
</td></tr>
<tr valign="top"><td><code>sampleK</code></td>
<td>
<p>When using method <code>sample</code> or <code>factor</code>, the total taint in the previous sample.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This section elaborates on the available methods for constructing a prior distribution.
</p>

<ul>
<li><p><code>none</code>:              This method constructs a prior distribution according to the principle of minimum information.
</p>
</li>
<li><p><code>median</code>:            This method constructs a prior distribution so that the prior probabilities of tolerable and intolerable misstatement are equal.
</p>
</li>
<li><p><code>hypotheses</code>:        This method constructs a prior distribution with specified prior probabilities for the hypotheses of tolerable and intolerable misstatement. Requires specification of the <code>pHmin</code> and <code>pHplus</code> arguments.
</p>
</li>
<li><p><code>arm</code>:               This method constructs a prior distribution according to the assessed risks in the audit risk model. Requires specification of the <code>ir</code> and <code>cr</code> arguments.
</p>
</li>
<li><p><code>sample</code>:            This method constructs a prior distribution on the basis of an earlier sample. Requires specification of the <code>sampleN</code> and <code>sampleK</code> arguments.
</p>
</li>
<li><p><code>factor</code>:            This method constructs a prior distribution on the basis of last year's results and a weighting factor. Requires specification of the <code>factor</code>, <code>sampleN</code> and <code>sampleK</code> arguments.
</p>
</li></ul>

<p>This section elaborates on the available likelihoods and corresponding prior distributions for the <code>likelihood</code> argument.
</p>

<ul>
<li><p><code>poisson</code>:          The Poisson likelihood is used as a likelihood for monetary unit sampling (MUS). Its likelihood function is defined as: </p>
<p style="text-align: center;"><i>p(x) = \frac{&lambda;^x e^{-&lambda;}}{x!}</i></p>
<p> The conjugate <em>gamma(<i>&alpha;, &beta;</i>)</em> prior has probability density function: </p>
<p style="text-align: center;"><i>f(x; &alpha;, &beta;) = \frac{&beta;^&alpha; x^{&alpha; - 1} e^{-&beta; x}}{&Gamma;(&alpha;)}</i></p>

</li>
<li><p><code>binomial</code>:         The binomial likelihood is used as a likelihood for record sampling <em>with</em> replacement. Its likelihood function is defined as: </p>
<p style="text-align: center;"><i>p(x) = {n \choose k} p^k (1 - p)^{n - k}</i></p>
<p> The conjugate <em>beta(<i>&alpha;, &beta;</i>)</em> prior has probability density function: </p>
<p style="text-align: center;"><i>f(x; &alpha;, &beta;) = \frac{1}{B(&alpha;, &beta;)} x^{&alpha; - 1} (1 - x)^{&beta; - 1}</i></p>

</li>
<li><p><code>hypergeometric</code>:   The hypergeometric likelihood is used as a likelihood for record sampling <em>without</em> replacement. Its likelihood function is defined as: </p>
<p style="text-align: center;"><i>p(x = k) = \frac{{K \choose k} {N - K \choose n - k}}{{N \choose n}}</i></p>
<p> The conjugate <em>beta-binomial(<i>&alpha;, &beta;</i>)</em> prior (Dyer and Pierce, 1993) has probability density function: </p>
<p style="text-align: center;"><i>f(k | n, &alpha;, &beta;) = {n \choose k} \frac{B(k + &alpha;, n - k + &beta;)}{B(&alpha;, &beta;)}</i></p>
 
</li></ul>



<h3>Value</h3>

<p>An object of class <code>jfaPrior</code> containing:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>method</code></td>
<td>
<p>the method by which the prior distribution is constructed.</p>
</td></tr>
<tr valign="top"><td><code>likelihood</code></td>
<td>
<p>the likelihood by which the prior distribution is updated.</p>
</td></tr>
<tr valign="top"><td><code>priorD</code></td>
<td>
<p>the name of the probability density function of the prior distribution.</p>
</td></tr>
<tr valign="top"><td><code>nPrior</code></td>
<td>
<p>the prior assumed sample size.</p>
</td></tr>
<tr valign="top"><td><code>kPrior</code></td>
<td>
<p>the prior assumed sample errors</p>
</td></tr>
<tr valign="top"><td><code>aPrior</code></td>
<td>
<p>the prior parameter alpha.</p>
</td></tr>
<tr valign="top"><td><code>bPrior</code></td>
<td>
<p>the prior parameter beta.</p>
</td></tr>
<tr valign="top"><td><code>materiality</code></td>
<td>
<p>the materiality that was used to construct the prior distribution.</p>
</td></tr>
<tr valign="top"><td><code>N</code></td>
<td>
<p>if specified as input, the population size.</p>
</td></tr>
<tr valign="top"><td><code>pHmin</code></td>
<td>
<p>For methods <code>median</code> and <code>hypotheses</code>, the prior probability of the hypothesis <i>&theta; &lt;</i> materiality.</p>
</td></tr>
<tr valign="top"><td><code>pHmin</code></td>
<td>
<p>For methods <code>median</code> and <code>hypotheses</code>, the prior probability of the hypothesis <i>&theta; &gt;</i> materiality.</p>
</td></tr>
<tr valign="top"><td><code>sampleN</code></td>
<td>
<p>For methods <code>sample</code> and <code>factor</code>, the total number of transactions in the earlier sample.</p>
</td></tr>
<tr valign="top"><td><code>sampleK</code></td>
<td>
<p>For methods <code>sample</code> and <code>factor</code>, the number of transactions that were misstated in the earlier sample.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Koen Derks, <a href="mailto:k.derks@nyenrode.nl">k.derks@nyenrode.nl</a>
</p>


<h3>References</h3>

<p>Derks, K., de Swart, J., Wagenmakers, E.-J., Wille, J., &amp; Wetzels, R. (2019). JASP for audit: Bayesian tools for the auditing practice.
</p>
<p>Derks, K., de Swart, J., van Batenburg, P. Wagenmakers, E.-J., &amp; Wetzels, R. (2020). Priors in a Bayesian Audit: How Integrating Information into the Prior Distribution can Improve Audit Transparency and Efficiency.
</p>


<h3>See Also</h3>

<p><code><a href="planning.html">planning</a></code> <code><a href="sampling.html">sampling</a></code> <code><a href="evaluation.html">evaluation</a></code>
</p>


<h3>Examples</h3>

<pre>
library(jfa)

# Specify the materiality, confidence, and expected errors:
materiality   &lt;- 0.05   # 5%
confidence    &lt;- 0.95   # 95%
expectedError &lt;- 0.025  # 2.5%

# Specify the inherent risk (ir) and control risk (cr):
ir &lt;- 1     # 100%
cr &lt;- 0.6   # 60%

# Create a beta prior distribution according to the Audit Risk Model (arm) 
# and a binomial likelihood:
prior &lt;- auditPrior(materiality = materiality, confidence = confidence, 
                    method = "arm", ir = ir, cr = cr, 
                    expectedError = expectedError, likelihood = "binomial")
print(prior)

# ------------------------------------------------------------
#         jfa Prior Distribution Summary (Bayesian)
# ------------------------------------------------------------
# Input:
# 
# Confidence:              0.95    
# Expected sample errors:  0.025       
# Likelihood:              binomial 
# Specifics:               Inherent risk = 1; Internal control risk = 0.6; Detection risk = 0.083 
# ------------------------------------------------------------
# Output: 
# 
# Prior distribution:      beta(2.275, 50.725) 
# Implicit sample size:    51 
# Implicit errors:         1.275 
# ------------------------------------------------------------
</pre>

<hr /><div style="text-align: center;">[Package <em>jfa</em> version 0.3.1 <a href="00Index.html">Index</a>]</div>
</body></html>
